<!DOCTYPE html>
<html lang="ja" xmlns="http://www.w3.org/1999/html">
<head>
<meta charset="UTF-8">
<title>C04-07 : ColorBox</title>
<link href="../css/common/general.css" rel="stylesheet" type="text/css">
<link href="css/index.css" rel="stylesheet" type="text/css">
<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"></script>
<script type="text/javascript">window.jQuery || document.write('<script src="js/jquery-1.8.2.min.js"><\/script>')</script>
<link type="text/css" rel="stylesheet" href="../js/dp.SyntaxHighlighter/styles/shCoreDefault.css"/>
<script type="text/javascript" src="../js/dp.SyntaxHighlighter/scripts/shCore.js"></script>
<script type="text/javascript" src="../js/dp.SyntaxHighlighter/scripts/shAutoloader.js"></script>
<script type="text/javascript" src="../js/dp.SyntaxHighlighter/scripts/shBrushXml.js"></script>
<script type="text/javascript">
<!--
//オプション
$(function(){
	SyntaxHighlighter.autoloader(
			"bash                     ../js/dp.SyntaxHighlighter/scripts/shBrushBash.js",
			"css                      ../js/dp.SyntaxHighlighter/scripts/shBrushCss.js",
			"html xml xhtml           ../js/dp.SyntaxHighlighter/scripts/shBrushXml.js",
			"js                       ../js/dp.SyntaxHighlighter/scripts/shBrushJScript.js"
	);
	SyntaxHighlighter.all();
});
-->
</script>
<!--[if lt IE 9]><script type="text/javascript" src="../js/html5.js"></script><![endif]-->
<link type="text/css" rel="stylesheet" href="js/colorbox/colorbox.css">
<script type="text/javascript" src="js/colorbox/jquery.colorbox.js"></script>
<script type="text/javascript">
$(function(){
	$(".colorbox").colorbox({rel: 'group1'});
	$(".ajax").colorbox();
	$(".iframe").colorbox({iframe: true, width: 600, height: 300});
	$(".inline").colorbox({inline: true});
	$(".youtube").colorbox({iframe: true, width: 640, height: 480});
	$(".callbacks").colorbox({
		onOpen:function(){ alert('ColorBoxを開く'); },
		onLoad:function(){ alert('コンテンツを読み込む'); },
		onComplete:function(){ alert('コンテンツの読み込みが完了'); },
		onCleanup:function(){ alert('ColorBoxを閉じる'); },
		onClosed:function(){ alert('ColorBoxが閉じた'); }
	});

});
</script>
</head>
<body>
<article id="container">
	<header>
		<h1>C04-07 : ColorBox</h1>
	</header>

	<section class="sample">
		<h2>準備</h2>
		<p class="desc">jQueryライブラリのため、jQueryとセットで読み込みます。</p>
		<div class="box">
			<div class="code">
<pre class="brush: js;">
&lt;script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.8.2/jquery.min.js"&gt;&lt;/script&gt;
&lt;script type="text/javascript"&gt;window.jQuery || document.write('&lt;script src="jquery-1.8.2.min.js"&gt;&lt;\/script&gt;')&lt;/script&gt;
&lt;link type="text/css" rel="stylesheet" href="colorbox.css"&gt;
&lt;script type="text/javascript" src="jquery.colorbox.js"&gt;&lt;/script&gt;
</pre>
			</div>
		</div>
	</section>
	<section class="sample">
		<h2>画像を開く</h2>
		<p class="desc">画像をページ上にオーバーレイ表示します。また、オプション機能を使ってグループ化することでスライドショーを作ることができます。</p>
		<div class="box">
			<div class="canvas">
				<a href="img/001.jpg" class="colorbox"><img src="img/001_t.jpg" height="100" width="100" alt=""></a>
				<a href="img/002.jpg" class="colorbox"><img src="img/002_t.jpg" height="100" width="100" alt=""></a>
				<a href="img/003.jpg" class="colorbox"><img src="img/003_t.jpg" height="100" width="100" alt=""></a>
				<a href="img/004.jpg" class="colorbox"><img src="img/004_t.jpg" height="100" width="100" alt=""></a>
				<a href="img/005.jpg" class="colorbox"><img src="img/005_t.jpg" height="100" width="100" alt=""></a>
			</div>
			<div class="code">
<pre class="brush: js;">
$(function(){
	$(".colorbox").colorbox({rel: 'group1'});
});
</pre>
<pre class="brush: html;">
&lt;a href="img/001.jpg" class="colorbox"&gt;&lt;img src="img/001_t.jpg" height="100" width="100" alt=""&gt;&lt;/a&gt;
&lt;a href="img/002.jpg" class="colorbox"&gt;&lt;img src="img/002_t.jpg" height="100" width="100" alt=""&gt;&lt;/a&gt;
&lt;a href="img/003.jpg" class="colorbox"&gt;&lt;img src="img/003_t.jpg" height="100" width="100" alt=""&gt;&lt;/a&gt;
&lt;a href="img/004.jpg" class="colorbox"&gt;&lt;img src="img/004_t.jpg" height="100" width="100" alt=""&gt;&lt;/a&gt;
&lt;a href="img/005.jpg" class="colorbox"&gt;&lt;img src="img/005_t.jpg" height="100" width="100" alt=""&gt;&lt;/a&gt;
</pre>
			</div>
		</div>
	</section>

	<section class="sample">
		<h2>HTMLを開く</h2>
		<p class="desc">
			Ajax、iframe、inlineの3つの方法でHTMLを読み込み、内容をオーバーレイ表示します。
		</p>
		<div class="box">
			<div class="canvas">
				<a href="ajax.html" class="ajax">HTMLの表示（Ajax）</a><br>
				<a href="iframe.html" class="iframe">HTMLの表示（iframe）</a><br>
				<a href="#inline" class="inline">HTMLの表示（inline）</a>
			</div>
			<div class="code">
<pre class="brush: js;">
$(function(){
	$(".ajax").colorbox();
	$(".iframe").colorbox({iframe: true, width: 600, height: 300});
	$(".inline").colorbox({inline: true});
});
</pre>
<pre class="brush: html;">
&lt;a href="ajax.html" class="ajax"&gt;HTMLの表示（Ajax）&lt;/a&gt;<br>
&lt;a href="iframe.html" class="iframe"&gt;HTMLの表示（iframe）&lt;/a&gt;
</pre>
			</div>
		</div>
<div style="display: none;">
	<div class="desCnt" id="inline">
		<p>同ドキュメント内の要素を移すため、読み込み元のスタイルシートが適用されます。<p>
		<img src="img/001_t.jpg" height="100" width="100" alt="">
		<img src="img/002_t.jpg" height="100" width="100" alt="">
		<img src="img/003_t.jpg" height="100" width="100" alt="">
		<p>
		Web制作の現場では１から機能を作ることは多くありません。Webアプリケーションの制作ともなると、独特な仕様やパフォーマンス向上のために特化したものを作成することはありますが、基本的には実装したい機能の仕様を満たすライブラリがないかを探して使います。<br>
		ときにはそのライブラリをカスタマイズして使うこともあるため、高機能かつシンプルでライセンスはMITかGPLのものを選びます。<br>
		１から作れる技術力も大事ですが、こうしたライブラリの知識も制作の幅を広げることができますし制作もスピーディに行えるため必須となります。
		</p>
	</div>
</div>
	</section>

	<section class="sample">
		<h2>Youtubeを開く</h2>
		<p class="desc">
			Youtubeの埋め込みコードにあるiframeのsrc属性を指定することでYoutube動画をオーバーレイ表示することができます。
		</p>
		<div class="box">
			<div class="canvas">
				<a href="http://www.youtube.com/embed/6PGznR2a9xk" class="youtube">Youtubeの表示</a>
			</div>
			<div class="code">
<pre class="brush: js;">
$(function(){
	$(".youtube").colorbox({iframe: true, width: 640, height: 480});
});
</pre>
<pre class="brush: html;">
&lt;a href="http://www.youtube.com/embed/6PGznR2a9xk" class="youtube"&gt;Youtubeの表示&lt;/a&gt;
</pre>
			</div>
		</div>
	</section>

	<section class="sample">
		<h2>コールバックを受け取る</h2>
		<p class="desc">
			ColorBoxを「開く」「読み込む」「読み込み完了」「閉じる」といったタイミングでコールバック関数を受け取ることができます。
		</p>
		<div class="box">
			<div class="canvas">
				<a href="img/001.jpg" class="callbacks">callbacks</a>
			</div>
			<div class="code">
<pre class="brush: js;">
$(function(){
	$(".callbacks").colorbox({
		onOpen:function(){ alert('ColorBoxを開く'); },
		onLoad:function(){ alert('コンテンツを読み込む'); },
		onComplete:function(){ alert('コンテンツの読み込みが完了'); },
		onCleanup:function(){ alert('ColorBoxを閉じる'); },
		onClosed:function(){ alert('ColorBoxが閉じられた'); }
	});
});
</pre>
<pre class="brush: html;">
&lt;a href="img/001.jpg" class="callbacks"&gt;callbacks&lt;/a&gt;
</pre>
			</div>
		</div>
	</section>

	<section id="options">
		<h2>オプション</h2>
		<table>
			<tr>
				<th>プロパティ</th>
				<th>初期値</th>
				<th>説明</th>
			</tr>
			<tr>
				<th colspan="3">コールバック</th>
			</tr>
			<tr>
				<td>onOpen</td>
				<td>false</td>
				<td>ColorBoxが開く直前に実行されます。</td>
			</tr>
			<tr>
				<td>onLoad</td>
				<td>false</td>
				<td>コンテンツの読み込みを開始する直前に実行されます。</td>
			</tr>
			<tr>
				<td>onComplete</td>
				<td>false</td>
				<td>コンテンツが読み込まれColorBoxが表示されたときに実行されます。</td>
			</tr>
			<tr>
				<td>onCleanup</td>
				<td>false</td>
				<td>ColorBoxを閉じる直前に実行されます。</td>
			</tr>
			<tr>
				<td>onClosed</td>
				<td>false</td>
				<td>ColorBoxが完全に閉じられたら実行されます。</td>
			</tr>
			<tr>
				<th colspan="3">アニメーション</th>
			</tr>
			<tr>
				<td>transition</td>
				<td>"elastic"</td>
				<td>アニメーションの種類を "elastic" or "fade" or "none" の中から設定します</td>
			</tr>
			<tr>
				<td>speed</td>
				<td>350</td>
				<td>ミリ秒単位でアニメーションの速度を設定します。</td>
			</tr>
			<tr>
				<th colspan="3">スライドショー</th>
			</tr>
			<tr>
				<td>slideshow</td>
				<td>false</td>
				<td>trueの場合、スライドショーの自動再生機能を追加します。</td>
			</tr>
			<tr>
				<td>slideshowSpeed</td>
				<td>2500</td>
				<td>ミリ秒単位で自動スライドの秒数を設定します。</td>
			</tr>
			<tr>
				<td>slideshowAuto</td>
				<td>true</td>
				<td>trueの場合、スライドショーが自動的に再生を開始します。</td>
			</tr>
			<tr>
				<td>slideshowStart</td>
				<td>"start slideshow"</td>
				<td>スライドショーの再生ボタンのテキストを設定します。</td>
			</tr>
			<tr>
				<td>slideshowStop</td>
				<td>"stop slideshow"</td>
				<td>スライドショーの停止ボタンのテキストを設定します。</td>
			</tr>
			<tr>
				<th colspan="3">大きさ</th>
			</tr>
			<tr>
				<td>width</td>
				<td>false</td>
				<td>ColorBoxの幅をピクセルやパーセントで設定します。この値には罫線やボタンを含むため、画像の大きさはここで指定した値より小さくなります。</td>
			</tr>
			<tr>
				<td>height</td>
				<td>false</td>
				<td>ColorBoxの高さをピクセルやパーセントで設定します。この値には罫線やボタンを含むため、画像の大きさはここで指定した値より小さくなります。</td>
			</tr>
			<tr>
				<td>innerWidth</td>
				<td>false</td>
				<td>ColorBoxの幅をピクセルやパーセントで設定します。この値には罫線やボタンを含まないため、、画像の大きさはここで指定した値になります。</td>
			</tr>
			<tr>
				<td>innerHeight</td>
				<td>false</td>
				<td>ColorBoxの高さをピクセルやパーセントで設定します。この値には罫線やボタンを含まないため、、画像の大きさはここで指定した値になります。</td>
			</tr>
			<tr>
				<td>initialWidth</td>
				<td>300</td>
				<td>画像やコンテンツを読み込む前の初期の幅を設定します。</td>
			</tr>
			<tr>
				<td>initialHeight</td>
				<td>100</td>
				<td>画像やコンテンツを読み込む前の初期の高さを設定します。</td>
			</tr>
			<tr>
				<td>maxWidth</td>
				<td>false</td>
				<td>ColorBoxの最大の幅を設定します。</td>
			</tr>
			<tr>
				<td>maxHeight</td>
				<td>false</td>
				<td>ColorBoxの最大の高さを設定します。</td>
			</tr>
			<tr>
				<td>scalePhotos</td>
				<td>true</td>
				<td>trueの場合に maxWidth、maxHeight、innerWidth、innerHeight、width​​、height が定義されている場合に、それらの値内に収まるように写真を縮小します。</td>
			</tr>
			<tr>
				<th colspan="3">テキスト</th>
			</tr>
			<tr>
				<td>current</td>
				<td>"image {current} of {total}"</td>
				<td>スライドの現在地を示すテキストを設定します。<br>
<pre class="brush: js;">
$('.colorbox').colorbox({
	current: '画像：{current}/{total}'
})
</pre>
				</td>
			</tr>
			<tr>
				<td>previous</td>
				<td>"previous"</td>
				<td>スライドの「前へ」ボタンのテキストを設定します。</td>
			</tr>
			<tr>
				<td>next</td>
				<td>"next"</td>
				<td>スライドの「次へ」ボタンのテキストを設定します。</td>
			</tr>
			<tr>
				<td>close</td>
				<td>"close"</td>
				<td>「閉じる」ボタンのテキストを設定します。</td>
			</tr>
			<tr>
				<th colspan="3">代替</th>
			</tr>
			<tr>
				<td>href</td>
				<td>false</td>
				<td>
					代替のアンカーURLとして使用したり、画像やフォームボタンなど非アンカー要素にURLを関連付けることができます。<br>
					<pre class="brush: js;">$("h1").colorbox({href:　"welcome.html"});</pre>
				</td>
			</tr>
			<tr>
				<td>title</td>
				<td>false</td>
				<td>title属性の代替として使用することができます。</td>
			</tr>
			<tr>
				<td>rel</td>
				<td>false</td>
				<td>
					rel属性の代替として使用することができます。これにより、rel属性が異なる要素をグループ化することができるようになります。<br>
					<pre class="brush: js;">$("a.gallery").colorbox({rel:"group1"});</pre>
				</td>
			</tr> 
			<tr>
				<th colspan="3">コンテンツタイプ</th>
			</tr>
			<tr>
				<td>iframe</td>
				<td>false</td>
				<td>trueの場合、コンテンツをiframeで表示します。</td>
			</tr>
			<tr>
				<td>inline</td>
				<td>false</td>
				<td>
					trueの場合、ドキュメント内の要素をコンテンツとして表示します。
<pre class="brush: js;">
$(".inline").colorbox({inline: true});
&lt;a href="#myForm" class="inline"&gt;colorbox&lt;/a&gt;
or
$(".inline").colorbox({inline: true, href:"#myForm"});
or
var $form = $("#myForm");
$(".inline").colorbox({inline: true, href:$form});
</pre>
				</td>
			</tr>
			<tr>
				<td>html</td>
				<td>false</td>
				<td>
					trueの場合、設定したHTMLを表示します。<br>
					<pre class="brush: js;">$('.html').colorbox({html:"&lt;p&gt;Hello&lt;/p&gt;"});</pre>
				</td>
			</tr>
			<tr>
				<th colspan="3">位置</th>
			</tr>
			<tr>
				<td>fixed</td>
				<td>false</td>
				<td>trueの場合、ColorBoxはブラウザ内に固定配置されます。</td>
			</tr>
			<tr>
				<td>top</td>
				<td>false</td>
				<td>ColorBoxのY軸位置をブラウザのtopを基準にピクセルやパーセントで設定します。</td>
			</tr>
			<tr>
				<td>bottom</td>
				<td>false</td>
				<td>ColorBoxのY軸位置をブラウザのbottomを基準にピクセルやパーセントで設定します。</td>
			</tr>
			<tr>
				<td>left</td>
				<td>false</td>
				<td>ColorBoxのX軸位置をブラウザのleftを基準にピクセルやパーセントで設定します。</td>
			</tr>
			<tr>
				<td>right</td>
				<td>false</td>
				<td>ColorBoxのX軸位置をブラウザのrightを基準にピクセルやパーセントで設定します。</td>
			</tr>
			<tr>
				<th colspan="3">その他</th>
			</tr>
			<tr>
				<td>scrolling</td>
				<td>true</td>
				<td>コンテンツがColorBoxの大きさに収まらなかった場合に表示されるスクロールバーの”表示” or "非表示"を設定します。</td>
			</tr>
			<tr>
				<td>opacity</td>
				<td>0.85</td>
				<td>0～1の範囲でオーバーレイの不透明度を設定します。</td>
			</tr>
			<tr>
				<td>open</td>
				<td>false</td>
				<td>trueの場合、ページが読み込まれたタイミングでColorBoxを開きます。</td>
			</tr>
			<tr>
				<td>returnFocus</td>
				<td>true</td>
				<td>trueの場合、ColorBoxが閉じた際にColorBoxを開くイベントを発生させた要素にフォーカスの位置を戻します</td>
			</tr>
			<tr>
				<td>fastIframe</td>
				<td>true</td>
				<td>falseの場合、iframeのコンテンツが完全に読み込まれるまでローディングアニメーションの削除とonCompleteイベントが延期されます。</td>
			</tr>
			<tr>
				<td>preloading</td>
				<td>true</td>
				<td>trueの場合、現在のコンテンツのロードが完了した後、グループ内で前後のコンテンツをプリロードすることができます。</td>
			</tr>
			<tr>
				<td>overlayClose</td>
				<td>true</td>
				<td>trueの場合、オーバーレイ領域をクリックしたときにColorBoxを閉じます。</td>
			</tr>
			<tr>
				<td>escKey</td>
				<td>true</td>
				<td>trueの場合、escキーを押したときにColorBoxを閉じます。</td>
			</tr>
			<tr>
				<td>arrowKey</td>
				<td>true</td>
				<td>trueの場合、スライドショーの移動が左右の矢印キーで行えるようになります。</td>
			</tr>
			<tr>
				<td>loop</td>
				<td>true</td>
				<td>trueの場合、スライドショーがループ（最後の画像の次は最初の画像になる）します。</td>
			</tr>
			<tr>
				<td>data</td>
				<td>false</td>
				<td>Ajaxリクエストをする際に、GETまたはPOSTデータを送信します。このdataプロパティはjQueryのものと全く同じ動作をします。ColorBoxではloadメソッドを使用しているため、詳しくはjQueryのloadメソッドを参照してください。</td>
			</tr>
			<tr>
				<td>xhrError</td>
				<td>"This content failed to load."</td>
				<td>Ajaxコンテンツの読み込みに失敗した場合に表示するメッセージを設定します。</td>
			</tr>
			<tr>
				<td>imgError</td>
				<td>"This image failed to load."</td>
				<td>画像の読み込みに失敗した場合に表示するメッセージを設定します。</td>
			</tr>
		</table>

		<h2>パブリックメソッド</h2>
		<p>パブリックメソッドは別のJavaScriptからColorBoxの操作を行うためのものです。</p>
		<table>
			<tr>
				<td>$.colorbox()</td>
				<td>
					要素に関連付けずににColorBoxを呼び出します。<br>
					<pre class="brush: js;">$.colorbox({href:"login.php"});</pre>
				</td>
			</tr>
			<tr>
				<td>$.colorbox.next()<br> $.colorbox.prev()</td>
				<td>スライドショーの切り替えを「次」「前」で操作します。</td>
			</tr>
			<tr>
				<td>$.colorbox.close()</td>
				<td>ColorBoxを閉じる処理を実行します。完全に閉じられたかを確認するためには後述するイベントフックを使用します。</td>
			</tr>
			<tr>
				<td>$.colorbox.element()</td>
				<td>
					ColorBoxを開いた要素を取得します。値はjQueryオブジェクトとして渡ります。<br>
					<pre class="brush: js;">var $element = $.colorbox.element();</pre>
				</td>
			</tr>
			<tr>
				<td>$.colorbox.resize()</td>
				<td>colorboxのりサイズを実行します。引数として width、height、innerWidth、innerHeight を使用することができます。</td>
			</tr>
			<tr>
				<td>$.colorbox.remove()</td>
				<td>ColorBoxを完全に削除します。これが実行された後ではColorBoxが動作しません。</td>
			</tr>
		</table>

		<h2>イベントフック</h2>

		<p>
			イベントフックは、対応するコールバック同じタイミングで実行されますが、実行順はイベントフックの後にコールバックとなります。<br>
			コールバックとの違いは、コールバックが関連付けしたColorBoxにのみ適用されるのに対し、イベントフックは全てのColorBoxに適用されます。
		</p>
<pre class="brush: js;">
$(document).bind('cbox_complete', function(){
	alert('ColorBoxが開かれました。');
});
</pre>

		<table>
			<tr>
				<td>cbox_open</td>
				<td>ColorBoxが開く直前に実行されます。</td>
			</tr>
			<tr>
				<td>cbox_load</td>
				<td>コンテンツの読み込みを開始する直前に実行されます。</td>
			</tr>
			<tr>
				<td>cbox_complete</td>
				<td>コンテンツが読み込まれColorBoxが表示されたときに実行されます。</td>
			</tr>
			<tr>
				<td>cbox_cleanup</td>
				<td>ColorBoxを閉じる直前に実行されます。</td>
			</tr>
			<tr>
				<td>cbox_closed</td>
				<td>ColorBoxが完全に閉じられたら実行されます。</td>
			</tr>
		</table>
	</section>
</article>

</body>
</html>